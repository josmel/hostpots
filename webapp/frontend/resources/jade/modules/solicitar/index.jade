extends ../../layout/layout.jade
//- index
block css	

	link(href='#{page.app}/js/libs/datetimepicker/build/css/bootstrap-datetimepicker.min.css', media='all', rel='stylesheet', type='text/css')
	link(href='#{page.app}/js/libs/datetimepicker/build/css/bootstrap-datetimepicker-standalone.css', media='all', rel='stylesheet', type='text/css')
	link(href='#{page.app}/css/all.css', media='all', rel='stylesheet', type='text/css')
block content
	#wrapper
		.pasos
			ul.service_unico.row
				li.active.tipo
					a(href="#",data-nom="paso1").btn_paso
						span.btn_num.num1 1
						span.txt_pasos Tipo de envío
				li.programa_reserva.none
					a(href="#",data-nom="reserva").disabled.btn_paso
						span.btn_num 2
						span.txt_pasos Reserva						 						
				li.origen
					a(href="#",data-nom="paso2").disabled.btn_paso
						span.btn_num 2
						span.txt_pasos Origen
				li.destino
					a(href="#",data-nom="paso3").disabled.btn_paso
						span.btn_num 3
						span.txt_pasos Destino
				li.descripcion
					a(href="#",data-nom="paso4").disabled.btn_paso
						span.btn_num 4
						span.txt_pasos Descripción
				li.resumen
					a(href="#",data-nom="paso5").disabled.btn_paso
						span.btn_num 5
						span.txt_pasos Resumen

				p.nombre_paso Tipo de servicio	
		#paso1.container_pasos
			.container
				|{!! Form::open(array('id'=>'formServicio','data-parsley-validate')) !!}
				.opcion1
					.servicio1
						{!! Form::radio('flagservice',1,true,array('id'=>'servicio01')) !!}
						{!! Form::label('servicio01','Servicio Normal') !!}
						.txt_servicio.row
							img(src!="{{asset('client/img/moto.png')}}", alt="")
							p Solicita un repartidor para realizar un envío único. El repatidor llegará en 15 minutos .  
					.servicio2
						{!! Form::radio('flagservice',2,false,array('id'=>'servicio02')) !!}
						{!! Form::label('servicio02','Servicio Por Hora') !!}
						.txt_servicio.row
							img(src!="{{asset('client/img/calendar.png')}}", alt="")
							p Solicita un repatidor para realizar un servicio por horas. El repatidor llegará en 15 minutos para atenderte las horas que necesites.
				.opcion2
					{{--*/ $c = 1; /*--}}
					@foreach($deliveryType as $dt)
					div(class!="{{'servicio'.$dt->id}}")
						{{--*/ $true = false; /*--}}
						@if($c == 1) {{--*/ $true = true; /*--}} @endif	
						{!! Form::radio('delivery_type_id',$dt->id,$true,array('id'=>"servicio_delivery_{$dt->id}")) !!}
						{!! Form::label("servicio_delivery_{$dt->id}",$dt->name) !!}
						.txt_servicio.row
							p {{$dt->description}}
					{{--*/ $c += 1; /*--}}
					@endforeach
				|{!! Form::close() !!}
				.new_design
					.opcion_columna1
						label(style="margin-left: 64px;") Servicio inmediato
						//-.txt_servicio.row
							img(src!="{{asset('client/img/moto.png')}}", alt="")
							p Solicita un repartidor para realizar un envío único. El repartidor llegará en 15 minutos . 
						.cat_input
							input(type="radio",name="opcion1",value="1",checked="checked")
							label Envío único
							.txt_servicio.txt_servicio_new
								p Solicita un repartidor para realizar un envío único. El repartidor llegará en menos de 15 minutos.
						.cat_input
							input(type="radio",name="opcion1",value="2")
							label Por horas
							.txt_servicio.txt_servicio_new
								p Solicita un repartidor para realizar un servicio por horas. El repartidor llegará en menos de 15 minutos para atenderte las horas que necesites.
					.opcion_columna2
						label(style="margin-left: 64px;") Servicio programado
						//-.txt_servicio.row
							img(src!="{{asset('client/img/calendar.png')}}", alt="",style="margin-left: 43px;")
							p Solicita un repartidor para realizar un servicio por horas. El repartidor llegará en 15 minutos para atenderte las horas que necesites.						
						.cat_input
							input(type="radio",name="opcion2",value="1")
							label Envío único
							.txt_servicio.txt_servicio_new
								p Programa un servicio para realizar un envío único. El repartidor llegará en la fecha y hora que tú elijas.
						.cat_input
							input(type="radio",name="opcion2",value="2")
							label Por horas
							.txt_servicio.txt_servicio_new
								p Programa un servicio para realizar un servicio por horas. El repartidor llegará en la fecha y hora que tú elijas para atenderte las horas que necesites.

				.operacion_pasos
					a(href="#",class="btn",id="btn_paso1") SIGUIENTE
		#reserva.none.container_pasos
			.container
				|{!! Form::open(array('id'=>'formreserva','data-parsley-validate')) !!}
				legend Reserva
				br
				.programa
					.content_date
						label 
							span Desde
							i.icon.icon-calendar
							input(type="text",name="datefrom")#datetimepicker1			
						label 
							span Hasta
							i.icon.icon-calendar
							input(type="text",name="dateto")#datetimepicker2
						label 
							span Hora
							i.icon.icon-clock
							input(type="text",name="time")#date_time
						br
						br
					label.content_hour
						span Cantidad de horas
						input(type="text",name="numberhour",required)
					br
					br
					.show_frecuencia
						legend Repetir
						.columna1
							.box_helper
								span x
								p Si eliges Repetir, tu servicio se quedará agendado y se repetirá automáticamente en las fechas y horas que escojas.
						br
						br
						.content_day
							.form-check
								label lunes
								input(type="checkbox", name="day[]", value=1).check_day
							.form-check
								label Martes
								input(type="checkbox", name="day[]", value=2).check_day
							.form-check
								label Miércoles
								input(type="checkbox", name="day[]", value=3).check_day
							.form-check
								label Jueves
								input(type="checkbox", name="day[]", value=4).check_day
							.form-check
								label Viernes
								input(type="checkbox", name="day[]", value=5).check_day
							.form-check
								label Sábado
								input(type="checkbox", name="day[]", value=6).check_day
							.form-check
								label Domingo
								input(type="checkbox", name="day[]", value=0).check_day
				|{!! Form::close() !!}				
				.operacion_pasos
					a(href="#",class="btn btn_regresar",id="btn_reg1") REGRESAR
					a(href="#",class="btn",id="btn_reserva") SIGUIENTE							
		#paso2.none.container_pasos
			.container
				|{!! Form::model($table,array('id'=>'formorigen','data-parsley-validate')) !!}
				legend Origen
				br
				.form-control
					{!! Form::label(null,'Dirección de recojo (Ej. Calle Mozart 456, San Borja)') !!}
					{!! Form::text('address',old('address'),array('required','id'=>'dir01')) !!}
					{!! Form::hidden('latitude') !!}
					{!! Form::hidden('longitude') !!}
				br
				.form-control
					{!! Form::label(null,'Referencia') !!}
					{!! Form::textarea('description',old('description'),array('required','cols'=>'5', 'rows'=>'5')) !!}
				br		
				p Persona de contacto
				br
				.form-control
					{!! Form::label(null,'Nombre y apellido') !!}
					select(name="contact_id",required).combo_personal
						option(value="") Seleccione
						@foreach($contacts as $val)
						option(data-phone!="{{$val->phone}}", data-cellphone!="{{$val->cellphone}}", data-email!="{{$val->email}}", value!="{{$val->id}}") {{$val->name}}
						@endforeach
				br		
				//-.form-input
					label Celular
					input(type="text",name="cellphone",maxlength="9",data-parsley-type="digits",disabled).disabled
				.form-input
					label Teléfono
					input(type="number", name="phone",maxlength="9",data-parsley-type="digits",disabled).disabled
				.form-input.form-email
					label Email
					input(type="text",name="email",data-parsley-type="email",disabled).disabled
				|{!! Form::close() !!}	
				.map
					#map.google-map(data-lat!="{{$table->latitude}}" data-lng!="{{$table->longitude}}")		
				.operacion_pasos
					a(href="#",class="btn btn_regresar",id="btn_reg2") REGRESAR
					a(href="#",class="btn",id="btn_paso2") SIGUIENTE
		#paso3.none.container_pasos
			.container
				|{!! Form::open(array('id'=>'formdestino','data-parsley-validate')) !!}
				legend Destino
				br
				.form-control
					{!! Form::label('dest_address','Dirección de destino (Ej. Calle Mozart 456, San Borja)') !!}
					{!! Form::text('dest_address',old('dest_address'),array('required','id'=>'dir02')) !!}
					{!! Form::hidden('dest_latitude') !!}
					{!! Form::hidden('dest_longitude') !!}
				br
				.form-control
					{!! Form::label('dest_description','Referencia') !!}
					{!! Form::textarea('dest_description',old('dest_description'),array('required','cols'=>'5', 'rows'=>'5')) !!}
				br		
				p Persona de contacto
				br
				.form-control
					{!! Form::label('contact_name','Nombre y apellido') !!}
					{!! Form::text('contact_name') !!}
				br		
				//-.form-input
					{!! Form::label('contact_phone','Celular') !!}
					{!! Form::text('contact_phone',old('contact_phone'),array('required','maxlength'=>'9','data-parsley-type'=>'integer')) !!}
				.form-input
					{!! Form::label('contact_cellphone','Teléfono') !!}
					{!! Form::text('contact_cellphone',old('contact_cellphone'),array('required','type'=>'number','maxlength'=>'9','data-parsley-type'=>'digits')) !!}
				.form-input.form-email
					{!! Form::label('contact_email','Email') !!}
					{!! Form::text('contact_email',old('contact_email'),array('required','data-parsley-type'=>'email')) !!}
				|{!! Form::close() !!}	
				.map
					#map2(data-lat="-12.0907838" data-lng="-77.0386785")

				.operacion_pasos
					a(href="#",class="btn btn_regresar",id="btn_reg3") REGRESAR					
					a(href="#",class="btn",id="btn_paso3") SIGUIENTE
		#paso4.none.container_pasos
			.container				
				|{!! Form::open(array('id'=>'formcargo','data-parsley-validate')) !!}
				legend Descripción
				br
				.columna1
					span - Descripción del pedido
					.form-control
						{{--*/ $c = 1; /*--}}
						@foreach($category as $ca)
						{{--*/ $true = false; /*--}}
						@if($c == 1) {{--*/ $true = true; /*--}} @endif
						label
							{!! Form::radio('category_id',$ca->id,$true) !!}
							span {{$ca->name}}
						{{--*/ $c += 1; /*--}}
						@endforeach
						input(type="text",name="category_other",id="txt_otros").none
					br
					span -Tipo de vehículo 
					.form-control
						{{--*/ $c = 1; /*--}}
						@foreach($vehicletype as $vt)
						{{--*/ $true = false; /*--}}
						@if($c == 1) {{--*/ $true = true; /*--}} @endif	
						label
							{!! Form::radio('vehicletype_id',$vt->id,$true) !!}
							span {{$vt->name}}
						{{--*/ $c += 1; /*--}}
						@endforeach
					br
					br
					.contenedor_cobremos
						span - ¿Necesitas que cobremos por ti?
						.form-control.form-radio
							{{--*/ $c = 1; /*--}}
							@foreach($paymenttype as $pt)
							{{--*/ $true = false; /*--}}
							@if($c == 1) {{--*/ $true = true; /*--}} @endif	
							label
								{!! Form::radio('paymenttype_id',$pt->id,$true) !!}
								span {{$pt->name}}
							{{--*/ $c += 1; /*--}}
							@endforeach
							label#txt_pago
								span - ¿Con cuánto pagará tu cliente?
								br
								input(type="text",name="pay",data-parsley-type="digits")
					br
					.contenedor_necesitas
						span - ¿Necesitas un viaje de ida y vuelta?
						br
						br
						.form-control
							label
								{!! Form::radio('flagreturn',1,true) !!}
								span Sí
							label
								{!! Form::radio('flagreturn',0,false) !!}
								span No	
				.columna2
					span - Tarifa : 
					.contenedor_tarifa
						span.destino_tarifa
					.form-control
						.box_helper#Moto
							span x
							p Ten en cuenta que las motos pueden transportar hasta 10 kg y tu pedido deberá  entrar en la caja de la moto.
						.box_helper#Carro.none
							span x
							p Ten en cuenta que tu pedido deberá entrar en la maletera del carro
						.box_helper#Bicicleta.none
							span x
							p Ten en cuenta que tu pedido deberá entrar en la mochila del repartidor
					.contenedor_cobremos
						.form-control.form-radio
							.box_helper#Efectivo
								span x
								p El repartidor llegará a tu local y pagará el pedido con el mismo monto que indicas. Deberás entregarle el pedido y el vuelto exacto solicitado por tu cliente. Monto máximo de S/. 200.00
							.box_helper#Pos.none
								span x
								p El repartidor recogerá tu equipo POS inalámbrico, cobrará por ti y traerá de vuelta el equipo a tu local, con el recibo correspondiente.Todos los repartidores están capacitados en el uso del sistema POS Visa y Mastercard.
					.contenedor_necesitas
						.form-control
							.box_helper#ServiceSi
								span x
								p El repartidor recogerá tu equipo POS inalámbrico, cobrará por ti y traerá de vuelta el equipo a tu local.
				br
				br															
				|{!! Form::close() !!}
								
				.operacion_pasos
					a(href="#",class="btn btn_regresar",id="btn_reg4") REGRESAR			
					a(href="#",class="btn",id="btn_paso4") SIGUIENTE
		#paso5.none.container_pasos
			.container
				.columna1
					.google-map(data-lat="" data-lng="")
					br
					br
					ul
						li
							label Dirección de origen
							br
							span.destino_direccion_origen 
						li.mostrar_direccion_destino
							label Dirección de destino
							br
							span.destino_direccion_destino
						li.service_ida_vuelta
							label Ida y vuelta
							br
							span.destinoIdaVuelta	 
						li
							label Tipo de vehículo
							br
							span.destino_tipo Moto							
				.columna2
					ul
						li
							label Tarifa
							br
							span.destino_tarifa(style="font-size:50px;")
						li.destinos_fechas
							label Fecha
							br
							span.fechas
						li.destino_hour
							label Hora
							br
							span.horas
						li.destino_horas
							label Número de horas
							br
							span.numero_horas 2
						li.destino_frecuencia
							label Repetición
							br
							span.total_frecuencia No hay repetición				
						li
							label Descripción del pedido
							br
							span.destino_categoria Comida
						li.service_cobro
							label Cobro de servicio
							br
							span.destino_cobro Cash
				.operacion_pasos
					a(href="#",class="btn btn_regresar",id="btn_reg5") REGRESAR
					a(href="#",class="btn btn-verde",id="btn_paso5") ENVIAR
		#paso6.none.container_pasos
			.container
				p
					| “Tu servicio ha sido registrado y puedes hacerle
					br
					| seguimiento en “Pedidos Activos”.
					br
					br
					| El código de tu servicio es 
					span.msg_solicitar XXXXX
			.operacion_pasos
				a(href="#",class="btn ",id="btn_rein") REINTENTAR					
				a(href!="{{ URL::asset('admclient/solicitar') }}",class="btn btn-verde",id="btn_otro") HACER OTRO PEDIDO							
block javascript
	script.
		window.alpha = {
			module : 'index',
			controller : 'solicitar',
			action: 'solicitar'
		};
	script(src="#{page.app}/js/libs/jquery/dist/jquery.min.js", type="text/javascript")
	script(data-main="#{page.app}/js/main" src="#{page.app}/js/libs/requirejs/require.js")			